<div class="p-5 container">
    <div class="d-flex justify-content-around">
        <h2>My Heroes</h2>
        <ul>
            <div *ngIf="heroes$ | async as heroes">
                <div>
                    <button pButton pRipple label="New" icon="pi pi-plus" (click)="showModalDialog()" class="p-button-success mr-2" ></button>
                    <p-table [value]="heroes" selectionMode="single" [(selection)]="selectedHero" [tableStyle]="{}">
                        <ng-template pTemplate="header">
                            <tr>
                                <th>Id</th>
                                <th>Name</th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-hero>
                            <tr [pSelectableRow]="hero">
                                <td>{{hero.id}}</td>
                                <td>{{hero.name}}</td>
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
            </div>  
        </ul>
        <app-hero-detail [hero]="selectedHero"></app-hero-detail>
        <!--<app-heroes></app-heroes>-->
        <p-dialog header="New hero" [(visible)]="display" [modal]="true">
            <span class="p-float-label">
                <input id="NewHeroName" [(ngModel)]="newHeroName" type="text" ng-model="NewHeroName" pInputText > 
                <label for="NewHeroName" >Hero Name</label>
                <button pButton pRipple label="New" icon="pi pi-plus" (click)="addHero(newHeroName)" class="p-button-success mr-2" ></button>
            </span>
        </p-dialog>

        <div>
            <div *ngIf="isLoading">
                <p-table [value]="userList" [tableStyle]="{}">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>first name</th>
                            <th>last name</th>
                            <th>picture</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-user>
                        <tr [pSelectableRow]="user">
                            <td>{{user?.first_name}}</td>
                            <td>{{user?.last_name}}</td>
                            <td><img [src]="user?.avatar"></td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>  
    </div>
</div>
